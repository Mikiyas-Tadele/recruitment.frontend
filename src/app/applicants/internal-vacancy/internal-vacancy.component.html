<div class="spacehlder" style="margin-top: 5%;"></div>
<div *ngIf="employeeinfo" class="row" style="margin-left:2px;">
   <h5>{{employeeinfo.name}},</h5>&nbsp;&nbsp;<h5>{{employeeinfo.position.replace('.', ' of ')}}</h5>
</div>
<div *ngIf="applies.length>0">
    <span> Positions Selected</span>
  <div *ngFor="let item of applies">
     <h6>{{item.position}}</h6>
  </div>
</div>
<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle" width="425"></p-confirmDialog>
<p-toast [style]="{marginTop: '100px'}"></p-toast>
<p-dataView [value]="vacancies" [paginator]="true" [rows]="6" #dv filterBy="position" loading="true" paginatorPosition="both" emptyMessage="No Vacancy Available!">
        <p-header>
            <input type="search" pInputText placeholder="Search by title" (keyup)="dv.filter($event.target.value, 'contains')">&nbsp;&nbsp;
            <button type="button" class="btn btn-primary btn-round" (click)="submit()" style="float: right;">Submit Application</button><br>
        </p-header>
        <div class="row">
    <ng-template let-vacancy pTemplate="listItem">
       
            <div class="col-lg-6">
           
                <div class="card card-default mb-3">
                    <div class="card-header">
                        <h4 class="text-success"><i class="fa fa-bell fa-fw text-success"></i> {{vacancy.position}}</h4>
                    </div>
                    <div class="card-body">
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h5 class="timeline-title">{{vacancy.qualifications}}</h5>
                                <p><small class="text-muted"><i class="fa fa-clock-o"></i>2 days left</small>
                                </p>
                            </div>
                            <div class="timeline-body">
                                <p>{{vacancy.qualification}}
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <p-fileUpload  #form mode="basic"  accept=".doc, .docx, .pdf"  maxFileSize="20000" 
                        (uploadHandler)="upload($event,form,vacancy)" customUpload="true"
                         [auto]="true" chooseLabel="Attach File" (onSelect)="validateFileSize($event, form.maxFileSize)"></p-fileUpload>&nbsp;&nbsp;&nbsp;
                        <button class="btn btn-sm btn-primary" (click)="apply(vacancy)" style="margin-bottom: 1.8em;">Apply</button>&nbsp;&nbsp;&nbsp;
                        <button class="btn btn-sm btn-primary" (click)="cancel(vacancy)" style="margin-bottom:1.8em;">Cancel</button>
                    </div>
                </div>
            </div>
        
    </ng-template>
</div>
</p-dataView>
